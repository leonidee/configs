# -----------------------------------------------------------------------------
# PLUGINS
# -----------------------------------------------------------------------------
#
# Plugin manager: `tpm`
# Repo: https://github.com/tmux-plugins/tpm
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Other plugin specification examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'github_username/plugin_name#branch'
# set -g @plugin 'git@github.com:user/plugin'
# set -g @plugin 'git@bitbucket.com:user/plugin'
#
# Initialize `tpm` plugin manager.
# This line should be at the very bottom of `tmux.conf`.
run "$HOME/.tmux/plugins/tpm/tpm"
# 
# -----------------------------------------------------------------------------
# GENERAL CONFIGURATIONS
# -----------------------------------------------------------------------------
# ?
setw -g xterm-keys on
# Faster command sequences
# set -s escape-time 500

# Set time for command repeat.
# The period of time (in miliseconds) in which after pressing
# prefix key tmux will accept command key another time.
set -sg repeat-time 1
# ?
set -s focus-events on
#
# -----------------------------------------------------------------------------
# DISPLAY
# -----------------------------------------------------------------------------
# Start windows numbering at 1
set -g base-index 1

# Make pane numbering consistent with windows
setw -g pane-base-index 1

# Rename window to show current program.
# For example if `nvim` opened window will be renamed to `nvim`
# setw -g automatic-rename on

# Renumber windows when a window is closed
set -g renumber-windows on

# set -g set-titles on          # set terminal title
# set -g display-panes-time 800 # slightly longer pane indicators display time
# set -g display-time 1000      # slightly longer status messages display time
# set -g status-interval 10     # redraw status line every 10 seconds
#
# -----------------------------------------------------------------------------
# NAVIGATION
# -----------------------------------------------------------------------------
unbind n
unbind p

# WINDOW NAVIGATION
# Select previous window
bind -r C-p previous-window

# Select next window
bind -r C-n next-window

# Move to last active window
# bind Tab last-window

# split current window horizontally
bind -r H split-window -v
# split current window vertically
bind -r V split-window -h

# PANE NAVIGATION
# Left pane
bind -r j select-pane -L
# Down pane
bind -r l select-pane -D
# Up pane
bind -r k select-pane -U
# Right pane
bind -r \; select-pane -R  # With `prefix` + `;`

# Swap current pane with the next one
bind > swap-pane -D
# Swap current pane with the previous one
bind < swap-pane -U
# -----------------------------------------------------------------------------

# Some tweaks to the status line
set -g status-right "%H:%M"
set -g window-status-current-style "underscore"

# If running inside tmux ($TMUX is set), then change the status line to red
# %if #{TMUX}
# set -g status-bg red
# %endif

# Enable RGB colour if running in xterm(1)
# set-option -sa terminal-overrides ",xterm*:Tc"

# Change the default $TERM to tmux-256color
set -g default-terminal $TERM

# Keep windows around after they exit
set -g remain-on-exit off

# Change the prefix key to C-a
set -g prefix C-a   
unbind C-b
bind C-a send-prefix

# Turn the mouse on, but without copy mode dragging
set -g mouse on
unbind -n MouseDrag1Pane
unbind -Tcopy-mode MouseDrag1Pane

# Some extra key bindings to select higher numbered windows
bind F1 selectw -t:10
bind F2 selectw -t:11
bind F3 selectw -t:12
bind F4 selectw -t:13
bind F5 selectw -t:14
bind F6 selectw -t:15
bind F7 selectw -t:16
bind F8 selectw -t:17
bind F9 selectw -t:18
bind F10 selectw -t:19
bind F11 selectw -t:20
bind F12 selectw -t:21

# A key to toggle between smallest and largest sizes if a window is visible in
# multiple places
# bind F set -w window-size

# Keys to toggle monitoring activity in a window and the synchronize-panes option
# bind m set monitor-activity
# bind y set synchronize-panes\; display 'synchronize-panes #{?synchronize-panes,on,off}'

# Create a single default session - because a session is created here, tmux
# should be started with "tmux attach" rather than "tmux new"
# new -d -s0 -nirssi 'exec irssi'
# set -t0:0 monitor-activity on
# set -t0:0 aggressive-resize on
# neww -d -ntodo 'exec emacs ~/TODO'
# setw -t0:1 aggressive-resize on
# neww -d -nmutt 'exec mutt'
# setw -t0:2 aggressive-resize on
# neww -d
# neww -d
# neww -d
